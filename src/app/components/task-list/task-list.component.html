<h2 class="title">To Do List</h2>
<section class="task-section">
  <div class="container">
    <input type="text"placeholder="Search" [(ngModel)]="searchKey" (input)="searchTaskByTitle($event)">

    <div class="task-info">
      <div *ngFor="let task of tasks; index as i" class="mb-1">
        <div class="task" [class.end-line]="!task.opened">
          <div class="task-left">
            <input type="checkbox" [checked]="task.checked" (change)="onCheckedChange(task)">
            <span class="task-title"> {{task.title}} </span>
          </div>
          <div class="task-right">
            <button class="btn btn-detail mr-1" (click)="openTaskDetail(task)">Detail</button>
            <button class="btn btn-remove" (click)="removeTask(i)">Remove</button>
          </div>
        </div>
        <ng-container *ngIf="task.opened">
          <app-task [isDetailInfo]="true" [task]="task"
                    (updateTask)="updateTask($event)">
          </app-task>
        </ng-container>
      </div>
    </div>
  </div>
  <div class="bulk" *ngIf="enableBulkAction()" [class.bulk-space]="tasks?.length === 1">
    <label class="bulk-left">Bulk Action: </label>
    <div class="bulk-right">
      <button class="btn btn-done mr-1">Done</button>
      <button class="btn btn-remove" (click)="removeTasksSelected()">Remove</button>
    </div>
  </div>
</section>

